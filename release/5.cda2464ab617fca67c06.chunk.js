webpackJsonp([5],{"/IXc":function(n,l,t){"use strict";function e(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"uc-form",[],null,[[null,"upformdata"]],function(n,l,t){var e=!0,u=n.component;if("upformdata"===l){e=!1!==u.saveData(t)&&e}return e},r.a,r.b)),i["ɵdid"](4833280,null,0,c.a,[],{formData:[0,"formData"]},{upformdata:"upformdata"})],function(n,l){n(l,1,0,l.component.fields)},null)}function u(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"complained-add",[],null,null,null,e,m)),i["ɵdid"](114688,null,0,a.a,[d.a,s.a,p.c],null,null)],function(n,l){n(l,1,0)},null)}var o=t("Taxq"),i=t("/oeL"),a=t("F3uT"),r=t("q9or"),c=t("X7i+"),d=t("U9zq"),s=t("0kYB"),p=t("BkNc");t.d(l,"a",function(){return g});var f=[o.a],m=i["ɵcrt"]({encapsulation:0,styles:f,data:{}}),g=i["ɵccf"]("complained-add",a.a,u,{},{},[])},"5NyQ":function(n,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=t("/oeL"),u=t("Xazn"),o=t("URzX"),i=t("b7/m"),a=t("seKc"),r=t("/IXc"),c=t("C2lc"),d=t("UYzG"),s=t("9hAK"),p=t("qbdv"),f=t("bm2B"),m=t("dWcS"),g=t("W5fO"),b=t("qCSQ"),h=t("BkNc"),_=t("eJnt"),v=t("X/HD"),y=t("0Zl/"),C=t("y8ct"),k=t("ozWE"),P=t("mi1g"),O=t("F3uT"),M=t("hLbP"),x=t("pzQ0"),w=t("KxBC");t.d(l,"ComplainedModuleNgFactory",function(){return I});var I=e["ɵcmf"](u.a,[],function(n){return e["ɵmod"]([e["ɵmpd"](512,e.ComponentFactoryResolver,e["ɵCodegenComponentFactoryResolver"],[[8,[o.a,i.a,a.a,r.a,c.a,d.a,s.a]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["ɵmpd"](4608,p.a,p.b,[e.LOCALE_ID]),e["ɵmpd"](4608,f.FormBuilder,f.FormBuilder,[]),e["ɵmpd"](4608,f["ɵi"],f["ɵi"],[]),e["ɵmpd"](4608,m.a,m.a,[]),e["ɵmpd"](4608,g.a,g.a,[]),e["ɵmpd"](4608,b.a,b.a,[]),e["ɵmpd"](512,h.x,h.x,[[2,h.m],[2,h.c]]),e["ɵmpd"](512,p.d,p.d,[]),e["ɵmpd"](512,f["ɵba"],f["ɵba"],[]),e["ɵmpd"](512,f.ReactiveFormsModule,f.ReactiveFormsModule,[]),e["ɵmpd"](512,_.a,_.a,[]),e["ɵmpd"](512,f.FormsModule,f.FormsModule,[]),e["ɵmpd"](512,v.a,v.a,[]),e["ɵmpd"](512,y.a,y.a,[]),e["ɵmpd"](512,C.a,C.a,[]),e["ɵmpd"](512,u.a,u.a,[]),e["ɵmpd"](1024,h.t,function(){return[[{path:"",component:k.a,children:[{path:"",redirectTo:"commodityList",pathMatch:"full"},{path:"complainedList",component:P.a},{path:"complainedAdd",component:O.a},{path:"complainedDetail/:id",component:M.a},{path:"feedbackDetail/:id",component:x.a},{path:"feedbackList",component:w.a}]}]]},[])])})},"6KNv":function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=["[_nghost-%COMP%]     uc-button button{margin-bottom:16px}"]},"8fzM":function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=[".map-container[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;left:0;background:rgba(0,0,0,.4)}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:50%;background:#fff;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:16px;border:1px solid #dfdfdf;box-shadow:0 1px 7px rgba(0,0,0,.1)}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding-bottom:8px;margin-bottom:8px;color:#000;border-bottom:1px solid #dfdfdf}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;position:relative}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:1em;font-size:14px;font-style:normal;color:#f44455}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#f44455;position:absolute;top:-5px;left:-5px}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{margin-left:1em}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin:0 1.2em 0 .4em}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%] > .disabled[_ngcontent-%COMP%]{width:calc(100% - 32px);height:34px;background-color:rgba(0,0,0,.075);border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);transition:all .15s ease-in-out;position:absolute;z-index:1}.map-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{min-width:110px}.feedback[_ngcontent-%COMP%]{background:#fff;padding:0 16px;border:1px solid #dfdfdf;box-shadow:0 1px 7px rgba(0,0,0,.1)}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border-bottom:1px solid #d9d9d9}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] > div.feedback-header[_ngcontent-%COMP%]{height:55px;border-bottom:1px dashed #cdcecf;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] > div.feedback-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] > div.feedback-content[_ngcontent-%COMP%]{padding-top:20px;margin-bottom:22px;overflow:hidden}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] > div.feedback-content[_ngcontent-%COMP%]   .admin[_ngcontent-%COMP%]{color:#115dc4}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] > div.feedback-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:144px;height:144px;margin-top:8px;margin-right:8px;float:left;overflow:hidden}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] > div.feedback-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#198cef}.feedback[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:inline-block}.zoom[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;top:0;left:0;text-align:center;background:rgba(0,0,0,.4);z-index:9999}.zoom[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;max-width:88%;max-height:88%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}"]},"9hAK":function(n,l,t){"use strict";function e(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"uc-search",[],null,null,null,a.a,a.b)),i["ɵdid"](638976,null,0,r.a,[],{searchData:[0,"searchData"],buttons:[1,"buttons"]},null),(n()(),i["ɵted"](null,["\n"])),(n()(),i["ɵeld"](0,null,null,1,"uc-table",[],null,[[null,"pageBeChanged"]],function(n,l,t){var e=!0,u=n.component;if("pageBeChanged"===l){e=!1!==u.pageBeChanged(t)&&e}return e},d.a,d.b)),i["ɵdid"](114688,null,0,s.a,[],{model:[0,"model"]},{pageBeChanged:"pageBeChanged"})],function(n,l){var t=l.component;n(l,1,0,t.plugins.search,t.plugins.buttons),n(l,4,0,t.plugins.grid)},null)}function u(n){return i["ɵvid"](0,[(n()(),i["ɵeld"](0,null,null,1,"feedback-list",[],null,null,null,e,b)),i["ɵdid"](114688,null,0,c.a,[p.c,f.a,m.a],null,null)],function(n,l){n(l,1,0)},null)}var o=t("AD/j"),i=t("/oeL"),a=t("gSne"),r=t("XGh0"),c=t("KxBC"),d=t("tvCx"),s=t("sQer"),p=t("BkNc"),f=t("0kYB"),m=t("U9zq");t.d(l,"a",function(){return h});var g=[o.a],b=i["ɵcrt"]({encapsulation:0,styles:g,data:{}}),h=i["ɵccf"]("feedback-list",c.a,u,{},{},[])},"AD/j":function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=[""]},C2lc:function(n,l,t){"use strict";function e(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"uc-details",[],null,null,null,i.a,i.b)),o["ɵdid"](114688,null,0,a.a,[],{model:[0,"model"]},null)],function(n,l){n(l,1,0,l.component.plugins.table)},null)}function u(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"complained-detail",[],null,null,null,e,f)),o["ɵdid"](114688,null,0,r.a,[c.a,d.a,s.a],null,null)],function(n,l){n(l,1,0)},null)}var o=t("/oeL"),i=t("DhbZ"),a=t("OkKd"),r=t("hLbP"),c=t("0kYB"),d=t("U9zq"),s=t("BkNc");t.d(l,"a",function(){return m});var p=[],f=o["ɵcrt"]({encapsulation:2,styles:p,data:{}}),m=o["ɵccf"]("complained-detail",r.a,u,{},{},[])},F3uT:function(n,l,t){"use strict";var e=t("BkNc"),u=t("bm2B"),o=t("IekC");t.d(l,"a",function(){return i});var i=function(){function n(n,l,t){this.uc=n,this.appHttpService=l,this.router=t,this.fields=[{label:"订单编号",key:"order_no",controlType:"input",inputType:"text",value:"",placeholder:"请输入订单编号"},{label:"申诉内容",key:"complained_content",controlType:"input",require:!0,inputType:"textarea",placeholder:"请输入申诉内容",validator:[u.Validators.required],errormsg:[{type:"required",content:"必填项目"}]},{label:"申诉状态",key:"status",controlType:"radio",value:"1",require:!0,options:[{value:"1",content:"待处理"},{value:"2",content:"已处理"}],validator:[u.Validators.required],errormsg:[{type:"required",content:"必填项目"}]},{label:"备注",key:"remark",controlType:"input",inputType:"text",value:"",placeholder:"请输入备注"}]}return n.prototype.ngOnInit=function(){},n.prototype.saveData=function(n){var l=this,t=(void 0===n?{value:t}:n).value,e=t.complained_content;if(!e.trim())return void swal({title:"提示!",text:"申诉内容不能为空",type:"error",timer:"2000"});if(e.length>=500)return void swal({title:"提示!",text:"申诉内容不能超过500字",type:"error",timer:"2000"});var u={params:t};this.appHttpService.postData(this.uc.api.qc+"/add_complained",u).subscribe(function(n){n.status?l.router.navigateByUrl("pages/complained/complainedList"):swal("新增申诉失败",n.error_msg,"error")})},n.ctorParameters=function(){return[{type:o.b},{type:o.a},{type:e.c}]},n}()},KxBC:function(n,l,t){"use strict";var e=t("IekC"),u=t("BkNc"),o=t("ge1L");t.n(o);t.d(l,"a",function(){return i});var i=function(){function n(n,l,t){this.router=n,this.appHttpService=l,this.uc=t,this.now=1,this.plugins={},this.searchBy={},this.getGridData=function(n){var l=this;this.appHttpService.postData(this.uc.api.qc+"/get_feedback_list",{params:n}).subscribe(function(n){if(n.status){var t=n.data,e=t.list;l.plugins.grid.pagination.totalItems=t.total_num,l.plugins.grid.tbody=[];for(var u=0,o=e;u<o.length;u++){var i=o[u],a=void 0;a=[{content:i.feedback_id,hidden:!0},{content:i.user_name},{content:i.feedback_content},{content:i.deal_flg_name},{content:i.create_time}];var r=[];l.uc.powerfun(l.uc.constant.get_feedback_info)&&r.push({content:"查看反馈",class:"btn-info",click:function(n){var t=n[0].content;l.router.navigate(["pages/complained/feedbackDetail",t])}}),a.push({type:"operation",operation:r}),l.plugins.grid.tbody.push(a)}}else swal({title:"获取申诉信息失败!",text:n.error_msg,type:"error",timer:"2000"})})}}return n.prototype.ngOnInit=function(){var n=this;this.plugins.grid={th:[{content:"反馈ID",hidden:!0},{content:"反馈用户"},{content:"反馈内容"},{content:"状态"},{content:"时间"},{content:"操作"}],tbody:[],pagination:{maxSize:5,itemsPerPage:20,currentPage:1,totalItems:1}},this.plugins.search=[{title:"开始时间",key:"start_time",controlType:"time",value:"",config:{showTimePicker:!1,format:0},placeholder:"请点击选择日期"},{title:"结束时间",key:"end_time",controlType:"time",value:"",config:{showTimePicker:!1,format:0},placeholder:"请点击选择日期"},{title:"反馈用户",key:"phone_no",controlType:"input",value:"",placeholder:"请输入反馈用户"}],this.plugins.buttons=[{type:"form",class:"btn-primary",content:"搜索",click:function(l){var t=(void 0===l?{value:t}:l).value,e=t.start_time,u=t.end_time,i=t.phone_no;return e&&!u||!e&&u?void swal({title:"提示!",text:"开始时间和结束时间要一起填写",type:"error",timer:"2000"}):e>u?void swal({title:"提示!",text:"开始时间不能大开结束时间",type:"error",timer:"2000"}):(n.now=1,n.searchBy={start_time:e?o(e).format("YYYY-MM-DD 00:00:00"):"",end_time:u?o(u).format("YYYY-MM-DD 23:59:59"):"",phone_no:i?i.trim():""},void n.getGridData({page_now:n.now,limit:20,sort_by:"create_time",sort_type:"desc",search_by:n.searchBy}))}},{type:"reset",class:"btn-danger",content:"重置",click:function(){n.searchBy={},n.now=1,n.getGridData({page_now:n.now,limit:20,sort_by:"create_time",sort_type:"desc",search_by:n.searchBy})}}],this.getGridData({page_now:this.now,limit:20,sort_by:"create_time",sort_type:"desc",search_by:{}})},n.prototype.pageBeChanged=function(n){this.getGridData({page_now:n.page,limit:n.itemsPerPage,sort_by:"create_time",sort_type:"desc",search_by:this.searchBy})},n.ctorParameters=function(){return[{type:u.c},{type:e.a},{type:e.b}]},n}()},Taxq:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=[""]},UYzG:function(n,l,t){"use strict";function e(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,3,"div",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                    "])),(n()(),b["ɵeld"](0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),b["ɵted"](null,["\n                "]))],null,function(n,l){n(l,2,0,b["ɵinlineInterpolate"](1,"",l.context.$implicit,""))})}function u(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵand"](16777216,null,null,1,null,e)),b["ɵdid"](802816,null,0,h.m,[b.ViewContainerRef,b.TemplateRef,b.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),b["ɵted"](null,["\n            "]))],function(n,l){n(l,3,0,l.component.feedbackInfo.feedback_img)},null)}function o(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,4,"p",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["用户"])),(n()(),b["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["",""])),(n()(),b["ɵted"](null,["的回复:"]))],null,function(n,l){n(l,3,0,l.parent.context.$implicit.user_name)})}function i(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,4,"p",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["管理员"])),(n()(),b["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["",""])),(n()(),b["ɵted"](null,["的回复:"]))],null,function(n,l){n(l,3,0,l.parent.context.$implicit.user_name)})}function a(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,3,"div",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                        "])),(n()(),b["ɵeld"](0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(n()(),b["ɵted"](null,["\n                    "]))],null,function(n,l){n(l,2,0,b["ɵinlineInterpolate"](1,"",l.context.$implicit,""))})}function r(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                    "])),(n()(),b["ɵand"](16777216,null,null,1,null,a)),b["ɵdid"](802816,null,0,h.m,[b.ViewContainerRef,b.TemplateRef,b.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),b["ɵted"](null,["\n                "]))],function(n,l){n(l,3,0,l.parent.context.$implicit.feedback_img)},null)}function c(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,26,null,null,null,null,null,null,null)),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵeld"](0,null,null,23,"section",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,10,"div",[["class","feedback-header"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵand"](16777216,null,null,1,null,o)),b["ɵdid"](16384,null,0,h.n,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵand"](16777216,null,null,1,null,i)),b["ɵdid"](16384,null,0,h.n,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵeld"](0,null,null,1,"small",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["",""])),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,8,"div",[["class","feedback-content"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵeld"](0,null,null,2,"p",[],[[8,"innerHTML",1]],null,null,null,null)),b["ɵdid"](278528,null,0,h.l,[b.IterableDiffers,b.KeyValueDiffers,b.ElementRef,b.Renderer],{ngClass:[0,"ngClass"]},null),b["ɵpod"]({admin:0}),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵand"](16777216,null,null,1,null,r)),b["ɵdid"](16384,null,0,h.n,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵted"](null,["\n    "]))],function(n,l){var t=l.component;n(l,7,0,l.context.$implicit.user_id==t.user_id),n(l,10,0,l.context.$implicit.user_id!=t.user_id),n(l,19,0,n(l,20,0,l.context.$implicit.user_id!=t.user_id)),n(l,23,0,l.context.$implicit.feedback_img)},function(n,l){n(l,13,0,l.context.$implicit.create_time),n(l,18,0,l.context.$implicit.feedback_content)})}function d(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,4,"div",[["style","margin-top: 16px"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n    "])),(n()(),b["ɵeld"](0,null,null,1,"uc-button",[],null,null,null,_.a,_.b)),b["ɵdid"](114688,null,0,v.a,[],{model:[0,"model"]},null),(n()(),b["ɵted"](null,["\n"]))],function(n,l){n(l,3,0,l.component.plugins.button)},null)}function s(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,60,"div",[["class","map-container"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.zoomImg(t)&&e}return e},null,null)),(n()(),b["ɵted"](null,["\n    "])),(n()(),b["ɵeld"](0,null,null,57,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,l,t){var e=!0;if("submit"===l){e=!1!==b["ɵnov"](n,4).onSubmit(t)&&e}if("reset"===l){e=!1!==b["ɵnov"](n,4).onReset()&&e}return e},null,null)),b["ɵdid"](16384,null,0,y["ɵbf"],[],null,null),b["ɵdid"](16384,[["form",4]],0,y.NgForm,[[8,null],[8,null]],null,null),b["ɵprd"](2048,null,y.ControlContainer,null,[y.NgForm]),b["ɵdid"](16384,null,0,y.NgControlStatusGroup,[y.ControlContainer],null,null),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵeld"](0,null,null,1,"header",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["管理员回复"])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵeld"](0,null,null,18,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,3,"label",[],null,null,null,null,null)),(n()(),b["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["*"])),(n()(),b["ɵted"](null,["回复内容"])),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,10,"div",[["class","main-content"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵeld"](0,null,null,7,"textarea",[["class","form-control"],["name","reply_content"],["placeholder","请输入回复内容"],["required",""],["rows","5"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,t){var e=!0,u=n.component;if("input"===l){e=!1!==b["ɵnov"](n,21)._handleInput(t.target.value)&&e}if("blur"===l){e=!1!==b["ɵnov"](n,21).onTouched()&&e}if("compositionstart"===l){e=!1!==b["ɵnov"](n,21)._compositionStart()&&e}if("compositionend"===l){e=!1!==b["ɵnov"](n,21)._compositionEnd(t.target.value)&&e}if("ngModelChange"===l){e=!1!==(u.reply_content=t)&&e}return e},null,null)),b["ɵdid"](16384,null,0,y.DefaultValueAccessor,[b.Renderer2,b.ElementRef,[2,y.COMPOSITION_BUFFER_MODE]],null,null),b["ɵdid"](16384,null,0,y.RequiredValidator,[],{required:[0,"required"]},null),b["ɵprd"](1024,null,y.NG_VALIDATORS,function(n){return[n]},[y.RequiredValidator]),b["ɵprd"](1024,null,y.NG_VALUE_ACCESSOR,function(n){return[n]},[y.DefaultValueAccessor]),b["ɵdid"](671744,null,0,y.NgModel,[[2,y.ControlContainer],[2,y.NG_VALIDATORS],[8,null],[2,y.NG_VALUE_ACCESSOR]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),b["ɵprd"](2048,null,y.NgControl,null,[y.NgModel]),b["ɵdid"](16384,null,0,y.NgControlStatus,[y.NgControl],null,null),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵeld"](0,null,null,18,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,3,"label",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["图片上传"])),(n()(),b["ɵeld"](0,null,null,1,"i",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["",""])),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,10,"div",[["class","main-content"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵeld"](0,null,null,0,"input",[["class","form-control"],["name","reply_img"],["type","hidden"]],[[8,"value",0]],null,null,null,null)),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵeld"](0,null,null,2,"div",[],null,null,null,null,null)),b["ɵdid"](278528,null,0,h.l,[b.IterableDiffers,b.KeyValueDiffers,b.ElementRef,b.Renderer],{ngClass:[0,"ngClass"]},null),b["ɵpod"]({disabled:0}),(n()(),b["ɵted"](null,["\n                "])),(n()(),b["ɵeld"](0,null,null,1,"base-upfile",[],null,[[null,"fileready"]],function(n,l,t){var e=!0,u=n.component;if("fileready"===l){e=!1!==u.filehasup(t)&&e}return e},C.a,C.b)),b["ɵdid"](114688,null,0,k.a,[],{model:[0,"model"]},{fileready:"fileready"}),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵeld"](0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.uploadformdata()&&e}return e},null,null)),(n()(),b["ɵted"](null,["确认回复"])),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.closeFeedback()&&e}return e},null,null)),(n()(),b["ɵted"](null,["取消回复"])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵted"](null,["\n    "])),(n()(),b["ɵted"](null,["\n"]))],function(n,l){var t=l.component;n(l,22,0,"");n(l,25,0,"reply_content",t.reply_content),n(l,43,0,n(l,44,0,t.notallowload)),n(l,47,0,t.uploadconfig)},function(n,l){var t=l.component;n(l,2,0,b["ɵnov"](l,6).ngClassUntouched,b["ɵnov"](l,6).ngClassTouched,b["ɵnov"](l,6).ngClassPristine,b["ɵnov"](l,6).ngClassDirty,b["ɵnov"](l,6).ngClassValid,b["ɵnov"](l,6).ngClassInvalid,b["ɵnov"](l,6).ngClassPending),n(l,20,0,b["ɵnov"](l,22).required?"":null,b["ɵnov"](l,27).ngClassUntouched,b["ɵnov"](l,27).ngClassTouched,b["ɵnov"](l,27).ngClassPristine,b["ɵnov"](l,27).ngClassDirty,b["ɵnov"](l,27).ngClassValid,b["ɵnov"](l,27).ngClassInvalid,b["ɵnov"](l,27).ngClassPending),n(l,36,0,t.img_error),n(l,40,0,t.reply_img),n(l,53,0,!b["ɵnov"](l,4).form.valid)})}function p(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,3,"div",[["class","zoom"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.closeZoomImg(t)&&e}return e},null,null)),(n()(),b["ɵted"](null,["\n    "])),(n()(),b["ɵeld"](0,null,null,0,"img",[["alt",""]],[[8,"src",4]],null,null,null,null)),(n()(),b["ɵted"](null,["\n"]))],null,function(n,l){var t=l.component;n(l,2,0,b["ɵinlineInterpolate"](1,"",t.zoomSrc,""))})}function f(n){return b["ɵvid"](0,[(n()(),b["ɵted"](null,["\n"])),(n()(),b["ɵeld"](0,null,null,27,"div",[["class","feedback"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;if("click"===l){e=!1!==u.zoomImg(t)&&e}return e},null,null)),(n()(),b["ɵted"](null,["\n    "])),(n()(),b["ɵeld"](0,null,null,21,"section",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵeld"](0,null,null,10,"div",[["class","feedback-header"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,4,"p",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["用户"])),(n()(),b["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["",""])),(n()(),b["ɵted"](null,["的反馈:"])),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,1,"small",[],null,null,null,null,null)),(n()(),b["ɵted"](null,["",""])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵeld"](0,null,null,6,"div",[["class","feedback-content"]],null,null,null,null,null)),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵeld"](0,null,null,0,"p",[],[[8,"innerHTML",1]],null,null,null,null)),(n()(),b["ɵted"](null,["\n            "])),(n()(),b["ɵand"](16777216,null,null,1,null,u)),b["ɵdid"](16384,null,0,h.n,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),b["ɵted"](null,["\n        "])),(n()(),b["ɵted"](null,["\n    "])),(n()(),b["ɵted"](null,["\n    "])),(n()(),b["ɵand"](16777216,null,null,1,null,c)),b["ɵdid"](802816,null,0,h.m,[b.ViewContainerRef,b.TemplateRef,b.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),b["ɵted"](null,["\n"])),(n()(),b["ɵted"](null,["\n"])),(n()(),b["ɵand"](16777216,null,null,1,null,d)),b["ɵdid"](16384,null,0,h.n,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),b["ɵted"](null,["\n"])),(n()(),b["ɵand"](16777216,null,null,1,null,s)),b["ɵdid"](16384,null,0,h.n,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),b["ɵted"](null,["\n"])),(n()(),b["ɵand"](16777216,null,null,1,null,p)),b["ɵdid"](16384,null,0,h.n,[b.ViewContainerRef,b.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,22,0,t.feedbackInfo.feedback_img),n(l,27,0,t.replyList),n(l,31,0,t.plugins.button),n(l,34,0,t.showFeedback),n(l,37,0,t.showZoom)},function(n,l){var t=l.component;n(l,10,0,t.feedbackInfo.user_name),n(l,14,0,t.feedbackInfo.create_time),n(l,19,0,t.feedbackInfo.feedback_content)})}function m(n){return b["ɵvid"](0,[(n()(),b["ɵeld"](0,null,null,1,"feedback-detail",[],null,null,null,f,I)),b["ɵdid"](114688,null,0,P.a,[O.a,M.a,x.c,x.a],null,null)],function(n,l){n(l,1,0)},null)}var g=t("8fzM"),b=t("/oeL"),h=t("qbdv"),_=t("VC1C"),v=t("7rGF"),y=t("bm2B"),C=t("tkWm"),k=t("dYYB"),P=t("pzQ0"),O=t("0kYB"),M=t("U9zq"),x=t("BkNc");t.d(l,"a",function(){return B});var w=[g.a],I=b["ɵcrt"]({encapsulation:0,styles:w,data:{}}),B=b["ɵccf"]("feedback-detail",P.a,m,{},{},[])},Xazn:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){function n(){}return n}()},"b7/m":function(n,l,t){"use strict";function e(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o["ɵdid"](212992,null,0,i.y,[i.q,o.ViewContainerRef,o.ComponentFactoryResolver,[8,null],o.ChangeDetectorRef],null,null)],function(n,l){n(l,1,0)},null)}function u(n){return o["ɵvid"](0,[(n()(),o["ɵeld"](0,null,null,1,"complain",[],null,null,null,e,c)),o["ɵdid"](114688,null,0,a.a,[],null,null)],function(n,l){n(l,1,0)},null)}var o=t("/oeL"),i=t("BkNc"),a=t("ozWE");t.d(l,"a",function(){return d});var r=[],c=o["ɵcrt"]({encapsulation:2,styles:r,data:{}}),d=o["ɵccf"]("complain",a.a,u,{},{},[])},hLbP:function(n,l,t){"use strict";var e=t("BkNc"),u=t("IekC");t.d(l,"a",function(){return o});var o=function(){function n(n,l,t){this.appHttpService=n,this.uc=l,this.activatedRoute=t,this.plugins={table:{data:[]}}}return n.prototype.ngOnInit=function(){var n=this;this.activatedRoute.params.switchMap(function(l){return n.appHttpService.postData(n.uc.api.qc+"/get_complained",{params:{complained_id:l.id}})}).subscribe(function(l){if(l.status){var t=l.data;n.plugins.table.data=[{type:"text",label:"用户",content:t.complained_user_name},{type:"text",label:"订单编号",content:t.entity_id},{type:"text",label:"申诉内容",content:t.complained_content},{type:"text",label:"申诉状态",content:1==t.status?"待处理":"已处理"},{type:"text",label:"时间",content:t.create_time},{type:"text",label:"备注",content:t.remark}]}else swal({title:"获取申诉信息失败!",text:l.error_msg,type:"error",timer:"2000"})})},n.ctorParameters=function(){return[{type:u.a},{type:u.b},{type:e.a}]},n}()},mi1g:function(n,l,t){"use strict";var e=t("IekC"),u=t("BkNc");t.d(l,"a",function(){return o});var o=function(){function n(n,l,t){this.router=n,this.appHttpService=l,this.uc=t,this.now=1,this.plugins={},this.searchBy={},this.getGridData=function(n){var l=this;this.appHttpService.postData(this.uc.api.qc+"/get_complained_list",{params:n}).subscribe(function(t){if(t.status){var e=t.data,u=e.list;l.plugins.grid.pagination.totalItems=e.total_num,l.plugins.grid.tbody=[];for(var o=0,i=u;o<i.length;o++){var a=i[o];!function(t){var e=void 0;e=[{content:t.complained_id,hidden:!0},{content:t.complained_user_name},{content:t.entity_id},{content:t.complained_content},{content:1==t.status?"待处理":"已处理"},{content:t.create_time}];var u=[];l.uc.powerfun(l.uc.constant.get_complained)&&u.push({content:"查看",class:"btn-info",click:function(){l.router.navigate(["pages/complained/complainedDetail",t.complained_id])}}),l.uc.powerfun(l.uc.constant.update_complained)&&"1"==t.status&&u.push({content:"标记为已处理",class:"btn-warning",click:function(t){var e=t[0].content;swal({title:"确定处理?",text:"",type:"warning",showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",showLoaderOnConfirm:!0,confirmButtonColor:"#DD6B55"}).then(function(t){!0===t&&l.appHttpService.postData(l.uc.api.qc+"/update_complained/",{params:{complained_id:e,complained_info:{status:2}}}).subscribe(function(t){t.status?(swal({title:"处理成功!",text:"",type:"success",timer:"2000"}),l.getGridData(n)):swal("处理失败!",t.error_msg,"error")})},function(){})}}),e.push({type:"operation",operation:u}),l.plugins.grid.tbody.push(e)}(a)}}else swal({title:"获取申诉信息失败!",text:t.error_msg,type:"error",timer:"2000"})})}}return n.prototype.ngOnInit=function(){var n=this;this.plugins.button={class:"btn-primary",content:"新增申诉",click:function(){n.router.navigateByUrl("pages/complained/complainedAdd")}},this.plugins.grid={th:[{content:"用户ID",hidden:!0},{content:"用户"},{content:"订单编号"},{content:"申诉内容"},{content:"状态"},{content:"时间"},{content:"操作"}],tbody:[],pagination:{maxSize:5,itemsPerPage:20,currentPage:1,totalItems:1}},this.plugins.search=[{title:"订单编号",key:"entity_id",controlType:"input",value:"",placeholder:"请输入订单编号"},{title:"订单状态",key:"status",controlType:"select",value:"0",placeholder:"请选择订单状态",options:[{name:"待处理",geo_id:"1"},{name:"已处理",geo_id:"2"}]},{title:"用户名称",key:"complained_user_name",controlType:"input",value:"",placeholder:"请输入用户名称"}],this.plugins.buttons=[{type:"form",class:"btn-primary",content:"搜索",click:function(l){var t=(void 0===l?{value:t}:l).value,e=t.entity_id,u=t.status,o=t.complained_user_name;n.searchBy={entity_id:e?e.trim():"",status:u,complained_user_name:o?o.trim():""},n.now=1,n.getGridData({page_now:n.now,limit:20,sort_by:"create_time",sort_type:"desc",search_by:n.searchBy})}},{type:"reset",class:"btn-danger",content:"重置",click:function(){n.searchBy={},n.now=1,n.getGridData({page_now:n.now,limit:20,sort_by:"create_time",sort_type:"desc",search_by:n.searchBy})}}],this.getGridData({page_now:this.now,limit:20,sort_by:"create_time",sort_type:"desc",search_by:{}})},n.prototype.pageBeChanged=function(n){this.getGridData({page_now:n.page,limit:n.itemsPerPage,sort_by:"create_time",sort_type:"desc",search_by:this.searchBy})},n.ctorParameters=function(){return[{type:u.c},{type:e.a},{type:e.b}]},n}()},ozWE:function(n,l,t){"use strict";t.d(l,"a",function(){return e});var e=function(){function n(){}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[]},n}()},pzQ0:function(n,l,t){"use strict";var e=t("BkNc"),u=t("IekC");t.d(l,"a",function(){return o});var o=function(){function n(n,l,t,e){this.appHttpService=n,this.uc=l,this.router=t,this.activatedRoute=e,this.plugins={table:{data:[]}},this.uploadconfig={},this.notallowload=!1,this.showFeedback=!1,this.reply_img=[],this.img_error="",this.feedbackInfo={},this.replyList=[],this.showZoom=!1}return n.prototype.ngOnInit=function(){var n=this;this.baseurl=this.uc.api.qc+"/get_file/",this.uc.powerfun(this.uc.constant.add_feedback_reply)&&(this.plugins.button={class:"btn-primary",content:"回复反馈",click:function(){n.showFeedback=!0}}),this.uploadconfig={value:"",accept:"image/*",multi:!0,size:4,count:4,uploadurl:this.uc.api.qc+"/upload_file/",capsule:"feedbackimg"},this.getFeedback()},n.prototype.filehasup=function(n){this.reply_img=JSON.parse(n.value),this.reply_img.length>=4&&(this.notallowload=!0,this.img_error="最多只能上传4张图片!")},n.prototype.getFeedback=function(){var n=this;this.activatedRoute.params.switchMap(function(l){return n.appHttpService.postData(n.uc.api.qc+"/get_feedback_info",{params:{feedback_id:l.id}})}).subscribe(function(l){if(l.status){var t=l.data;n.feedbackInfo=t.feedback_info,n.user_id=t.feedback_info.user_id,n.replyList=t.reply_list,n.feedback_id=t.feedback_info.feedback_id}else swal({title:"获取申诉信息失败!",text:l.error_msg,type:"error",timer:"2000"})})},n.prototype.uploadformdata=function(){var n=this,l=this.reply_content;if(!l.trim())return void swal({title:"提示!",text:"回复内容不能为空",type:"error",timer:"2000"});if(l.length>200)return void swal({title:"提示!",text:"回复内容不能超过200字",type:"error",timer:"2000"});var t={params:{feedback_id:this.feedback_id,feedback_content:this.reply_content.replace(/(\n)|(\r\n)/g,"<br/>").replace(/\s/g,"&nbsp;"),feedback_img:this.reply_img}};this.appHttpService.postData(this.uc.api.qc+"/add_feedback_reply",t).subscribe(function(l){l.status?(n.closeFeedback(),n.getFeedback(),n.clearreply(),swal({title:"回复反馈成功!",text:"",type:"success",timer:"2000"})):swal("回复反馈失败",l.error_msg,"error")})},n.prototype.closeFeedback=function(){this.showFeedback=!1},n.prototype.zoomImg=function(n){var l=(void 0===n?{target:l}:n).target;"img"==l.localName&&(this.showZoom=!0,this.zoomSrc=l.src)},n.prototype.closeZoomImg=function(){this.showZoom=!1},n.prototype.clearreply=function(){this.reply_content="",this.reply_img=[],this.notallowload=!1,this.img_error=""},n.ctorParameters=function(){return[{type:u.a},{type:u.b},{type:e.c},{type:e.a}]},n}()},seKc:function(n,l,t){"use strict";function e(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(n()(),a["ɵted"](null,["\n    "])),(n()(),a["ɵeld"](0,null,null,1,"uc-button",[],null,null,null,r.a,r.b)),a["ɵdid"](114688,null,0,c.a,[],{model:[0,"model"]},null),(n()(),a["ɵted"](null,["\n"]))],function(n,l){n(l,3,0,l.component.plugins.button)},null)}function u(n){return a["ɵvid"](0,[(n()(),a["ɵand"](16777216,null,null,1,null,e)),a["ɵdid"](16384,null,0,d.n,[a.ViewContainerRef,a.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵeld"](0,null,null,1,"uc-search",[],null,null,null,s.a,s.b)),a["ɵdid"](638976,null,0,p.a,[],{searchData:[0,"searchData"],buttons:[1,"buttons"]},null),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵeld"](0,null,null,1,"uc-table",[],null,[[null,"pageBeChanged"]],function(n,l,t){var e=!0,u=n.component;if("pageBeChanged"===l){e=!1!==u.pageBeChanged(t)&&e}return e},m.a,m.b)),a["ɵdid"](114688,null,0,g.a,[],{model:[0,"model"]},{pageBeChanged:"pageBeChanged"})],function(n,l){var t=l.component;n(l,1,0,t.plugins.button),n(l,4,0,t.plugins.search,t.plugins.buttons),n(l,7,0,t.plugins.grid)},null)}function o(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,null,null,1,"complained-list",[],null,null,null,u,y)),a["ɵdid"](114688,null,0,f.a,[b.c,h.a,_.a],null,null)],function(n,l){n(l,1,0)},null)}var i=t("6KNv"),a=t("/oeL"),r=t("VC1C"),c=t("7rGF"),d=t("qbdv"),s=t("gSne"),p=t("XGh0"),f=t("mi1g"),m=t("tvCx"),g=t("sQer"),b=t("BkNc"),h=t("0kYB"),_=t("U9zq");t.d(l,"a",function(){return C});var v=[i.a],y=a["ɵcrt"]({encapsulation:0,styles:v,data:{}}),C=a["ɵccf"]("complained-list",f.a,o,{},{},[])}});